<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Our Testing Philosophy</title>
    <meta name="description" content="To test or not to test, that is the question (jkjk don't be a dumbus; TEST YOUR CODE). The real question is, when and how to test?  Spoiler alert: we're not the biggest fans of test-driven development....">
    <meta name="author"      content="lan-party">
    <meta name="keywords"    content="general, testing">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://codingisok.com/2019/03/our-testing-philosophy.html">
    <link rel="next" href="/2019/03/the-static-keyword-in-java.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>

    <!-- A standard Twitter Bootstrap nav bar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div class="container">

      <a href="/index.html" class="navbar-brand">Coding is O.K.</a>

      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
              data-target="#navbar_collapse" aria-controls="navbar_collapse"
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar_collapse">
          <ul class="navbar-nav mr-auto">


            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b>
              </a>

              <div class="dropdown-menu">
                <a class="dropdown-item" href="/tags/general.html">general</a><a class="dropdown-item" href="/tags/java.html">java</a><a class="dropdown-item" href="/tags/keywords.html">keywords</a><a class="dropdown-item" href="/tags/terminology.html">terminology</a><a class="dropdown-item" href="/tags/testing.html">testing</a><a class="dropdown-item" href="/tags/trash.html">trash</a>
              </div>
            </li>

            <li>
              <a class="nav-link" href="/About.html">About</a>
            </li> 
            <li>
              <a class="nav-link" href="/FAQ.html">F.A.Q.</a>
            </li> 
            <li>
              <a class="nav-link" href="/resources.html">Resources</a>
            </li> 

            <li class="nav-item">
              <a class="nav-link" href="/feeds/all.atom.xml">Atom</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/feeds/all.rss.xml">RSS</a>
            </li>
          </ul>
      </div>

      </div>
    </nav>


    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>Our Testing Philosophy</h1>
    <p class='date-and-tags'>
<time datetime="2019-03-18" pubdate="true">2019-03-18</time> :: <span class="tags"><a href="/tags/general.html">general</a>, <a href="/tags/testing.html">testing</a></span></p>
    <p class='authors'>By: <span class="authors">lan-party</span></p>
  </header>

<p>To test or not to test, that is the question (jkjk don&rsquo;t be a dumbus; TEST YOUR CODE). The real question is, when and how to test?</p>

<p>Spoiler alert: we&rsquo;re not the biggest fans of test-driven development.</p>
<!-- more-->

<h1 id="a-few-common-approaches-to-testing">A few common approaches to testing</h1>

<ol>
 <li>
  <p>No testing whatsoever, or: write the entire program and, when it fails, give  up. We don&rsquo;t recommend this method.</p></li>
 <li>
  <p>Inserting &ldquo;helpful&rdquo; print statements, or: write some code and, when it  fails, print out some hopefully useful values and place markers to track  down the bugs. This method is inelegant, but can get the job done if you  know what you&rsquo;re doing. We <em>don&rsquo;t not</em> recommend this method, but if something  breaks, you&rsquo;ll have some re-testing to do. Also it makes your code messy. Also also it makes it hard for anyone else to dive in and feel confident they&rsquo;re not breaking something since you don&rsquo;t have a test suite.</p></li>
 <li>
  <p>Test-driven development (TDD), or: write an excessive number of debatably-useful tests before writing any code. Then write some code and fix  any bugs using the testing output. Rinse and repeat. TDD is trendy approach at  the moment, but honestly not our favorite; we think TDD is pedantic and  cumbersome and cements your program&rsquo;s design before you&rsquo;ve even decided what the best design is.</p></li></ol>

<h1 id="our-approach-to-testing">Our approach to testing</h1>

<p>We believe a good program begins with a program outline (just like how you&rsquo;re supposed to create an outline before writing that essay about <a href="http://www.harkavagrant.com/index.php?id=202"><em>The Tenant of Wildfell Hall</em> and how Anne Brontë was ahead of her time and is still completely underrated</a>, or at least that&rsquo;s what our high school English teachers told us to do). A program outline allows the coder to determine the general structure and flow of the program including core classes, methods, functions, and variables. No real code is necessary here, pseudocode and stubs are fine to get the point across. Once you have a general outline, then you can start writing tests, feeling confident that you (probably) won&rsquo;t have to frantically change a bunch of names and refactor like, 10 times.</p>

<h2 id="case-study-hot-dog-order-tracker">Case Study: Hot Dog Order Tracker</h2>

<p>You are a 10-year-old, newly-minted, proud owner of a hot dog stand who needs a way to keep track of orders. Fortunately, you&rsquo;re also a <a href="https://crouton.net"><em>seasoned</em> programmer</a> (geddit??). You decide to code an order tracker that will allow you to input orders and display an itemized receipt when an order is completed, including a unique order number. Since you&rsquo;re a child, you don&rsquo;t need to worry about taxes. Or working, actually — why are you running a business anyway?</p>

<h3 id="option-1-basic-programming-not-to-be-confused-with-httpsenwikipediaorgwikibasicbasic-programming">Option 1: Basic Programming (not to be confused with <a href="https://en.wikipedia.org/wiki/BASIC">BASIC</a> programming)</h3>

<p>You want to feel like you know what you&rsquo;re doing, so you figure you&rsquo;ll start with something simple: have the program take in the name of each item and its cost. Done!</p>

<div class="brush: python">
 <table class="highlighttable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></div></td>
    <td class="code">
     <div class="highlight">
      <pre><span></span><span class="k">def</span> <span class="nf">get_food_from_console</span><span class="p">():</span>  <span class="c1"># Returns a str</span>
  <span class="sd">"""</span>
<span class="sd">  Returns (str, False) if the user entered a food, (None, True) otherwise.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">get_cost_from_console</span><span class="p">():</span>  <span class="c1"># Returns a float</span>
  <span class="sd">"""</span>
<span class="sd">  Returns (str, False) if the user entered a cost, (None, True) otherwise.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">make_receipt</span><span class="p">(</span><span class="n">order_number</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>  <span class="c1"># Returns a str</span>
  <span class="sd">"""</span>
<span class="sd">  Prints the receipt nicely, for example:</span>

<span class="sd">    Order #5</span>

<span class="sd">    Fries:   $1.00</span>
<span class="sd">    Hot Dog: $2.00</span>
<span class="sd">    Ketchup: $0.50</span>

<span class="sd">    Total:   $3.50</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
  <span class="n">order_number</span> <span class="o">=</span> <span class="mi">1</span>

  <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">done</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">order</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
      <span class="n">food</span><span class="p">,</span> <span class="n">done</span> <span class="o">=</span> <span class="n">get_food_from_console</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">food</span><span class="p">:</span>
        <span class="n">cost</span><span class="p">,</span> <span class="n">done</span> <span class="o">=</span> <span class="n">get_cost_from_console</span><span class="p">()</span>
        <span class="n">order</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">food</span><span class="p">,</span> <span class="n">cost</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">order</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">make_receipt</span><span class="p">(</span><span class="n">order_number</span><span class="p">,</span> <span class="n">order</span><span class="p">))</span>
      <span class="n">order_number</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Example usage:</p>

<pre><code>"""Example usage:

$ python3 hot_dogge1.py
Food? Fries
Cost? 1.00

Food? Hot Dog
Cost? 2.00

Food? Ketchpu
Cost? 0.50

Food? Ketchpu
Cost? -0.50

Food? Ketchup
Cost? 0.50

Food?

  Order #1

  Fries:    $1.00
  Hot Dog:  $2.00
  Ketchpu:  $0.50
  Ketchpu: -$0.50
  Ketchup:  $0.50

  Total:    $3.50

Food? &lt;Ctrl-C&gt;
$</code></pre>

<p>O.K., it may look like you just wrote most of this program, but because the design is so simple, this pseudocode happens to be mostly executable. If this was your finalized design, here would be the point where we would advocate to start writing tests.</p>

<p>A few issues to consider before committing to this design though: to &ldquo;remove&rdquo; an item from the order, you need to add an item with a negative cost — kinda clunky, but functional. There also isn&rsquo;t any grouping in the order; that is, it&rsquo;s not obvious if ketchup is supposed to be a side or go on the hot dog. You could always specify in the name of the item, but maybe that&rsquo;s too much of a bother.</p>

<h3 id="option-2-fancier-programming">Option 2: Fancier Programming</h3>

<p>You realize that there are some flaws with your current approach — the menu isn&rsquo;t saved anywhere, there&rsquo;s a lot of typing involved, and it&rsquo;s easy to make a mistake when entering orders. You decide to go back to the drawing board.</p>

<div class="brush: python">
 <table class="highlighttable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70</pre></div></td>
    <td class="code">
     <div class="highlight">
      <pre><span></span><span class="k">class</span> <span class="nc">Food</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="sd">"""A container to make it easy to group names and costs."""</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cost</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cost</span> <span class="o">=</span> <span class="n">cost</span>


<span class="n">MENU</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">Food</span><span class="p">(</span><span class="s1">&#39;Fries&#39;</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">),</span>
  <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="n">Food</span><span class="p">(</span><span class="s1">&#39;Hot Dog&#39;</span><span class="p">,</span> <span class="mf">2.00</span><span class="p">),</span>
  <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="n">Food</span><span class="p">(</span><span class="s1">&#39;Ketchup&#39;</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">),</span>
<span class="p">}</span>


<span class="k">def</span> <span class="nf">get_food_from_console</span><span class="p">():</span>
  <span class="sd">"""</span>
<span class="sd">  Returns (should_add=bool, str, False) if the user entered a food,</span>
<span class="sd">  (None, None, False) if the user entered an unrecognized command,</span>
<span class="sd">  (None, None, True) otherwise.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">make_receipt</span><span class="p">(</span><span class="n">order_number</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>  <span class="c1"># Returns a str</span>
  <span class="sd">"""</span>
<span class="sd">  Prints the receipt nicely, for example:</span>

<span class="sd">    Order #5</span>

<span class="sd">    Fries:   $1.00</span>
<span class="sd">    Hot Dog: $2.00</span>
<span class="sd">    &#39;Chup:   $0.50</span>

<span class="sd">    Total:   $3.50</span>

<span class="sd">  Note: Contrasting with the make_receipt function in Option 1, this function</span>
<span class="sd">  deals with Food objects instead of (str, float) tuples.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
  <span class="n">order_number</span> <span class="o">=</span> <span class="mi">1</span>

  <span class="c1"># Assumes the input is either "&lt;ID&gt;" or "remove &lt;ID&gt;"</span>
  <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">done</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">order</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
      <span class="n">should_add</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">done</span> <span class="o">=</span> <span class="n">get_food_from_console</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">MENU</span><span class="p">:</span>
          <span class="n">food</span> <span class="o">=</span> <span class="n">MENU</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="c1"># This food isn&#39;t in the menu, print an error</span>
          <span class="k">continue</span>

        <span class="k">if</span> <span class="n">should_add</span><span class="p">:</span>
          <span class="n">order</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">food</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="k">if</span> <span class="n">food</span> <span class="ow">in</span> <span class="n">order</span><span class="p">:</span>
            <span class="n">order</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">food</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="c1"># We can&#39;t remove a food if it isn&#39;t in the order; print an error</span>
            <span class="k">pass</span>

    <span class="k">if</span> <span class="n">order</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">make_receipt</span><span class="p">(</span><span class="n">order_number</span><span class="p">,</span> <span class="n">order</span><span class="p">))</span>
      <span class="n">order_number</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Example usage:</p>

<pre><code>$ python3 hot_dogge2.py
Item? A
Item? B
Item? remove B
Item? B
Item? C
Item?

  Order #1

  Fries:    $1.00
  Hot Dog:  $2.00
  Ketchup:  $0.50

  Total:    $3.50

Item? &lt;Ctrl-C&gt;
$</code></pre>

<p>On the bright side, this approach makes it much easier to create orders and fix mistakes. It&rsquo;s also impossible to mis-type a food name or cost, and mistakes don&rsquo;t show up in the final receipt.</p>

<p>That said, there are still a few problems: the grouping issue that Option 1 had is still around (is the ketchup a side or on the hot dog???) and since the menu is hard-coded within the program, you can&rsquo;t make custom orders — that is, you can&rsquo;t change the without changing the program itself. This is especially bad when it&rsquo;s your younger sibling&rsquo;s shift and they in their infinite wisdom attempt to make everything cost $1000.00 but screw up the code instead.</p>

<h3 id="option-3-fanciest-programming">Option 3: Fanciest Programming</h3>

<div class="brush: python">
 <table class="highlighttable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162</pre></div></td>
    <td class="code">
     <div class="highlight">
      <pre><span></span><span class="kn">import</span> <span class="nn">sys</span>


<span class="k">class</span> <span class="nc">Menu</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="sd">"""A menu object.</span>

<span class="sd">  The user is able to add/amend menu entries.</span>
<span class="sd">    Adding lets you create custom items -- they are lost when the program stops.</span>
<span class="sd">    Amending lets you change the name and/or cost of a food on the menu.</span>
<span class="sd">  """</span>


<span class="k">def</span> <span class="nf">create_menu</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  Creates a menu from a file of items.</span>

<span class="sd">  Crashes if the file repeats an ID.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Food</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="sd">"""A container to make it easy to group names and costs."""</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cost</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cost</span> <span class="o">=</span> <span class="n">cost</span>


<span class="k">class</span> <span class="nc">Item</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="sd">"""Groups Foods together, e.g. Fries with Ketchup and Mayonnaise."""</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foods</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">foods</span> <span class="o">=</span> <span class="n">foods</span> <span class="ow">or</span> <span class="p">[]</span>  <span class="c1"># list of Food</span>


<span class="k">class</span> <span class="nc">Order</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="sd">"""Groups Items together, e.g. [Fries with Mayonnaise, Hot Dog with &#39;Chup]."""</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>  <span class="c1"># dict of item_id: [Item]</span>

  <span class="k">def</span> <span class="nf">generate_item_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># Returns a unique identifier str</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="nf">make_receipt</span><span class="p">(</span><span class="n">order</span><span class="p">):</span>  <span class="c1"># Returns a str</span>
  <span class="sd">"""</span>
<span class="sd">  Prints the receipt nicely, for example:</span>

<span class="sd">    Order #5</span>

<span class="sd">    Fries           $1.00</span>
<span class="sd">      w/ Ketchup    $0.50</span>
<span class="sd">      w/ Mayonnaise $0.50</span>

<span class="sd">    Hot Dog:        $2.00</span>
<span class="sd">      w/ Ketchup    $0.50</span>

<span class="sd">    Total:          $4.50</span>

<span class="sd">  Note: Contrasting with the make_receipt function in Option 2, this function</span>
<span class="sd">  deals with Order objects, which are now more complex and represent a</span>
<span class="sd">  hierarchy.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">get_command</span><span class="p">():</span>  <span class="c1"># Returns the user&#39;s input as a str</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">command</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  Takes a str command and parses it into a subject str and subcommand str.</span>

<span class="sd">  e.g:</span>
<span class="sd">    &gt;&gt;&gt; parse(&#39;menu add D "Mayonnaise" $0.50&#39;)</span>
<span class="sd">    &#39;menu&#39;, &#39;add D "Mayonnaise" $0.50&#39;</span>

<span class="sd">  If the first string is not &#39;menu&#39;, &#39;order&#39;, or &#39;item&#39;, then we infer that the</span>
<span class="sd">  subject is a food, e.g:</span>
<span class="sd">    &gt;&gt;&gt; parse(&#39;A&#39;)</span>
<span class="sd">    &#39;food&#39;, &#39;A&#39;</span>
<span class="sd">    &gt;&gt;&gt; parse(&#39;A B C&#39;)</span>
<span class="sd">    &#39;food&#39;, &#39;A B C&#39;</span>
<span class="sd">  """</span>
  <span class="k">return</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>  <span class="c1"># Just to satisy the python interpreter</span>


<span class="k">def</span> <span class="nf">handle_menu_command</span><span class="p">(</span><span class="n">menu</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  Parses subcommand and modifies the menu accordingly.</span>

<span class="sd">  Note: it&#39;s an error to add menu entries with the names "menu", "item", or</span>
<span class="sd">  "order", because those strings are interpreted as commands by the program.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">handle_order_command</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  Parses subcommand and modifies the order accordingly.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">handle_item_command</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  Parses subcommand and modifies the order accordingly.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">handle_food_command</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">):</span>
  <span class="sd">"""</span>
<span class="sd">  Parses subcommand and modifies the order accordingly.</span>
<span class="sd">  """</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">()</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">menu</span> <span class="o">=</span> <span class="n">create_menu</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

  <span class="c1"># Commands:</span>
  <span class="c1">#</span>
  <span class="c1"># menu add &lt;food_id&gt; "&lt;name&gt;" &lt;cost&gt;</span>
  <span class="c1"># menu edit &lt;food_id&gt; "&lt;name&gt;" &lt;cost&gt;</span>
  <span class="c1">#</span>
  <span class="c1"># &lt;food_id&gt;               (item with one food)</span>
  <span class="c1"># &lt;food_id&gt; &lt;food_id&gt; ... (item with multiple foods)</span>
  <span class="c1">#</span>
  <span class="c1"># item &lt;item_id&gt; add &lt;food_id&gt;    (retroactively add a food to an item)</span>
  <span class="c1"># item &lt;item_id&gt; remove &lt;food_id&gt; (retroactively remove a food from an item)</span>
  <span class="c1">#</span>
  <span class="c1"># order add "&lt;name&gt;" &lt;cost&gt; (add a special item to the order)</span>
  <span class="c1">#                           (can be used to add a discount)</span>
  <span class="c1"># order remove &lt;item_id&gt;</span>
  <span class="c1"># order end (finish the current order and print its receipt)</span>

  <span class="n">order_number</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">Order</span><span class="p">(</span><span class="n">order_number</span><span class="p">)</span>

    <span class="n">subject</span><span class="p">,</span> <span class="n">subcommand</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">get_command</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">subject</span> <span class="o">==</span> <span class="s1">&#39;menu&#39;</span><span class="p">:</span>
      <span class="n">handle_menu_command</span><span class="p">(</span><span class="n">menu</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">subject</span> <span class="o">==</span> <span class="s1">&#39;order&#39;</span><span class="p">:</span>
      <span class="n">handle_order_command</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">subject</span> <span class="o">==</span> <span class="s1">&#39;item&#39;</span><span class="p">:</span>
      <span class="n">handle_item_command</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">subject</span> <span class="o">==</span> <span class="s1">&#39;food&#39;</span><span class="p">:</span>
      <span class="n">handle_food_command</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">subcommand</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># Unrecognized command, print an error</span>

    <span class="k">print</span><span class="p">(</span><span class="n">make_receipt</span><span class="p">(</span><span class="n">order</span><span class="p">))</span>
    <span class="n">order_number</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Example usage:</p>

<pre><code>$ python3 hot_dogge3.py ~/Desktop/no_younger_siblings_allowed/menu.txt
Parsed menu:
  A: Fries      $1.00
  B: Hot Dog    $2.00
  C: Ketchup    $0.50

Order #1
Command? menu add D "Mayonnaise" $0.50
Command? A C D
  item id = 1
    Fries           $1.00
      w/ Ketchup    $0.50
      w/ Mayonnaise $0.50

Command? B
  item id = 2
    Hot Dog:        $2.00

Command? item 2 add C
  modified item 2:
    Hot Dog:        $2.00
      w/ Ketchup    $0.50

Command? item 2 add C
  modified item 2:
    Hot Dog:        $2.00
      w/ Ketchup    $0.50
      w/ Ketchup    $0.50

Command? item 2 remove C
  modified item 2:
    Hot Dog:        $2.00
      w/ Ketchup    $0.50

Command? C
  item id = 3
    Ketchup:        $0.50

Command? D
  item id = 4
    Mayonnaise:     $0.50

Command? order remove 5
  removed item 4:
    Mayonnaise:     $0.50

Command? order 1 add "special friend discount" -$1.00
  item id = 5
    special friend discount: -$1.00

Command? order end

  Order #1
    Fries                     $1.00
      w/ Ketchup              $0.50
      w/ Mayonnaise           $0.50

    Hot Dog                   $2.00
      w/ Ketchup              $0.50

    Ketchup                   $0.50

    special friend discount: -$1.00

    Total:                    $4.00

Order #2
Command? &lt;Ctrl-C&gt;
$</code></pre>

<p>Whoof, this one&rsquo;s a long one. Buuuuuuut now your sibling can&rsquo;t permanently mess up the menu, you can add special orders, and you can keep track of which items go together — heck yeah! Maybe all that thinking and restructuring was worth it after all!</p>

<p>In fact, this program isn&rsquo;t even that complicated once you break it down: in order to keep track of toppings vs. sides, you had to add a few classes to create a hierarchy, so you have a handful of functions (all those <code>handle_&lt;object&gt;_command</code> functions) that are the same basic function modified for each new class. Note that the menu is read in from an external file when the program is launched, keeping it safe from any meddling younger siblings.</p>

<h4 id="a-new-hierarchy">A New Hierarchy</h4>

<p>Now, instead of just having orders comprised of items, you have a <code>Menu</code> object which contains <code>Food</code> objects, and <code>Order</code> objects which contain <code>Item</code> objects which are actually just one or more <code>Food</code> objects. This way, your program knows how to group foods within an order when it prints out the receipt; that is, it will print out each <code>Item</code> object as its own block of foods.</p>

<p>More generally, the hierarchy works like this:</p>

<pre><code>- Menu
  - Food
  - Food
  - Food
  - Food
  - Food

- Order
  - Item
    - Food
    - Food
    - Food
  - Item
    - Food</code></pre>

<h4 id="decisions-decisions-decisions">Decisions, decisions, decisions!</h4>

<ul>
 <li><strong><code>menu</code></strong> → commands related to modifying the menu
  <ul>
   <li><strong><code>add &lt;food_id&gt; "&lt;name&gt;" &lt;cost&gt;</code></strong> → add a new food option to the menu (note that if the program is restarted, this new item will not persist, so this option is a good way to add a temporary item like a special of the day)</li>
   <li><strong><code>edit &lt;food_id&gt; "&lt;name&gt;" &lt;cost&gt;</code></strong> → modify an existing food option on the menu (note that the <code>&lt;food_id&gt;</code> stays the same, but the <code>name</code> and <code>cost</code> of the item may be modified. this is the only way to effectively delete an item from the menu without modifying the menu file and restarting the program)</li></ul></li>
 <li>
  <p><strong><code>&lt;food_id&gt; ...</code></strong> → add an item consisting of one or more foods to the current order</p></li>
 <li><strong><code>item</code></strong> → commands related to modifying an item in the current order
  <ul>
   <li><strong><code>&lt;item_id&gt; add &lt;food_id&gt;</code></strong> → add food <code>&lt;food_id&gt;</code> to item <code>&lt;item_id&gt;</code></li>
   <li><strong><code>&lt;item_id&gt; remove &lt;food_id&gt;</code></strong> → remove food <code>&lt;food_id&gt;</code> from item <code>&lt;item_id&gt;</code></li></ul></li>
 <li><strong><code>order</code></strong> → commands related to modifying the current order
  <ul>
   <li><strong><code>add "&lt;name&gt;" &lt;cost&gt;</code></strong> → add a special item to the current order (note that this option can be used to add either custom items with a positive cost, or discounts with a negative cost)</li>
   <li><strong><code>remove &lt;item_id&gt;</code></strong> → remove item <code>&lt;item_id&gt;</code> from the order (note that the item id will not be re-used if another item is added to the current order)</li>
   <li><strong><code>end</code></strong> → end the current order and print the receipt</li></ul></li></ul>

<h2 id="the-aftermath">The Aftermath</h2>

<p>Now that you&rsquo;ve squared away your design, you can finally break out the fancy TDD toolbox and start writing incremental tests, confident that you won&rsquo;t end up stranding yourself with an obsolete test suite and a bunch of refactored, untested code. We&rsquo;re not going to talk about how to test here, since this post is just about our philosophy surrounding testing, but we will probably write a post in the future about how to test.</p>
  <footer>
    <script type="text/javascript">
      !function(d,s,id){
          var js,fjs=d.getElementsByTagName(s)[0];
          if(!d.getElementById(id)){
              js=d.createElement(s);
              js.id=id;
              js.src="//platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js,fjs);
          }
      }(document,"script","twitter-wjs");
    </script>
    <a href="https://twitter.com/share"
       class="twitter-share-button"
       data-url="http://codingisok.com/2019/03/our-testing-philosophy.html"
       data-dnt="true">
      "Tweet"</a>
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <g:plusone size="medium" href="http://codingisok.com/2019/03/our-testing-philosophy.html"></g:plusone>
    <div class="row justify-content-center">
      <nav aria-label="Page Navigation">
        <ul class="pagination">
          <li class="page-item">
            <a class="page-link" href="/2019/03/the-static-keyword-in-java.html"
               aria-label="Previous">
              <span aria-hidden="true">&larr; The Static Keyword in Java</span>
            </a>
          </li>

        </ul>
      </nav>
    </div>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <p>Site generated
        by <a href="https://github.com/greghendershott/frog">Frog</a>,
        the <strong>fr</strong>ozen bl<strong>og</strong> tool.</p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="/js/jquery-3.3.1.slim.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.bundle.min.js"></script>
  </body>
</html>